# ğŸ”„ APARTMENT CAFÃ‰ - SYSTEM FLOWS

## ğŸ“± Customer Order Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CUSTOMER JOURNEY                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ğŸŒ Visit Website
         â”‚
         â–¼
    ğŸ“‹ Browse Menu
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Firestore Listener:    â”‚
    â”‚ collection('menu')     â”‚
    â”‚ where('enabled', true) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â±ï¸ Real-time Updates
    (New items appear instantly)
         â”‚
         â–¼
    ğŸ›’ Add to Cart
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ React Context (Local)  â”‚
    â”‚ + LocalStorage         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ğŸ“ Checkout
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Validate:              â”‚
    â”‚ - Name                 â”‚
    â”‚ - Block/Door           â”‚
    â”‚ - Mobile (10 digits)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ğŸ’¾ Place Order
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Firestore.create()     â”‚
    â”‚ collection: 'orders'   â”‚
    â”‚ status: 'pending'      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    âœ… Success!
    ğŸ‰ Order Placed
    ğŸ“§ Awaiting Confirmation
```

---

## ğŸ‘¨â€ğŸ’¼ Admin Order Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN WORKFLOW                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ğŸ” Access Admin Panel
    (/admin route)
         â”‚
         â–¼
    ğŸ“Š View Orders Dashboard
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Firestore Listener:    â”‚
    â”‚ collection('orders')   â”‚
    â”‚ orderBy('createdAt')   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ğŸ‘ï¸ Real-time Updates
    (New orders appear instantly)
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                 â–¼                 â–¼
    ğŸŸ¡ PENDING       ğŸŸ  ACCEPTED      ğŸŸ¢ COMPLETED
    
    
    ğŸŸ¡ PENDING ORDER:
    â”‚
    â”œâ”€> ğŸ“‹ View Details
    â”‚   (Name, Block, Items, Total)
    â”‚
    â””â”€> âœ… Click "Accept"
        â”‚
        â–¼
    â˜ï¸ Cloud Function
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /updateOrderStatus â”‚
    â”‚ Header: x-admin-secret  â”‚
    â”‚ Body: {                 â”‚
    â”‚   orderId,              â”‚
    â”‚   status: 'accepted'    â”‚
    â”‚ }                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
    ğŸ”’ Validate Secret
        â”‚
        â–¼
    âœ… Validate Status Transition
    (pending â†’ accepted only)
        â”‚
        â–¼
    ğŸ’¾ Update Firestore
        â”‚
        â–¼
    ğŸŸ  ORDER NOW ACCEPTED!
    
    
    ğŸŸ  ACCEPTED ORDER:
    â”‚
    â”œâ”€> ğŸšš Prepare Order
    â”‚
    â””â”€> âœ… Click "Complete"
        â”‚
        â–¼
    â˜ï¸ Cloud Function
    (similar flow)
        â”‚
        â–¼
    ğŸŸ¢ ORDER COMPLETED!
```

---

## ğŸ½ï¸ Admin Menu Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MENU MANAGEMENT                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ğŸ” Access Admin Panel
    Click "Menu" tab
         â”‚
         â–¼
    ğŸ“‹ View All Menu Items
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Firestore Listener:    â”‚
    â”‚ collection('menu')     â”‚
    â”‚ (all items)            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ğŸ‘ï¸ See All Items
    (enabled + disabled)
         â”‚
         â–¼
    ğŸ”˜ Toggle Item
    (Enable/Disable)
         â”‚
         â–¼
    â˜ï¸ Cloud Function
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /toggleMenu        â”‚
    â”‚ Header: x-admin-secret  â”‚
    â”‚ Body: {                 â”‚
    â”‚   itemId,               â”‚
    â”‚   enabled: true/false   â”‚
    â”‚ }                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ğŸ”’ Validate Secret
         â”‚
         â–¼
    âœ… Check Item Exists
         â”‚
         â–¼
    ğŸ’¾ Update Firestore
         â”‚
         â–¼
    âš¡ Real-time Update!
    (Customers see change instantly)
```

---

## ğŸ”„ Real-time Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              REAL-TIME SYNCHRONIZATION                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Customer Device           Firestore           Admin Device
         â”‚                       â”‚                      â”‚
         â”‚   ğŸ“¡ onSnapshot       â”‚                      â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
         â”‚   (menu collection)   â”‚                      â”‚
         â”‚                       â”‚                      â”‚
         â”‚   ğŸ“Š Initial Data     â”‚                      â”‚
         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
         â”‚                       â”‚                      â”‚
         â”‚                       â”‚   ğŸ”§ Admin Toggle    â”‚
         â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                       â”‚   (via Cloud Fn)     â”‚
         â”‚                       â”‚                      â”‚
         â”‚   âš¡ Real-time Update â”‚                      â”‚
         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
         â”‚   (item enabled)      â”‚                      â”‚
         â”‚                       â”‚                      â”‚
         â”‚   ğŸ¨ UI Updates       â”‚                      â”‚
         â”‚   (item appears)      â”‚                      â”‚
         â”‚                       â”‚                      â”‚
    
    
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    Customer Places Order     Firestore           Admin Panel
         â”‚                       â”‚                      â”‚
         â”‚   ğŸ’¾ Create Order     â”‚                      â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
         â”‚   (status: pending)   â”‚                      â”‚
         â”‚                       â”‚                      â”‚
         â”‚                       â”‚   ğŸ“¡ onSnapshot      â”‚
         â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                       â”‚   (orders)           â”‚
         â”‚                       â”‚                      â”‚
         â”‚                       â”‚   ğŸ“Š New Order       â”‚
         â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
         â”‚                       â”‚                      â”‚
         â”‚                       â”‚                   ğŸ”” Notify
         â”‚                       â”‚                   (new order!)
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SECURITY LAYERS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    CLIENT (Customer)
         â”‚
         â”œâ”€> ğŸ“– Read menu
         â”‚   âœ… ALLOWED (Firestore rules)
         â”‚
         â”œâ”€> âœï¸ Write to menu
         â”‚   âŒ DENIED (Firestore rules)
         â”‚
         â”œâ”€> ğŸ“ Create order
         â”‚   âœ… ALLOWED (with validation)
         â”‚   â”‚
         â”‚   â””â”€> Firestore Rules Check:
         â”‚       âœ… status == 'pending'
         â”‚       âœ… Has required fields
         â”‚       âœ… Correct data types
         â”‚
         â””â”€> âœï¸ Update order
             âŒ DENIED (Firestore rules)
    
    
    CLIENT (Admin)
         â”‚
         â”œâ”€> ğŸ“– Read orders
         â”‚   âœ… ALLOWED (Firestore rules)
         â”‚
         â”œâ”€> ğŸ“– Read all menu
         â”‚   âœ… ALLOWED (Firestore rules)
         â”‚
         â”œâ”€> âš™ï¸ Toggle menu item
         â”‚   â”‚
         â”‚   â””â”€> â˜ï¸ Cloud Function
         â”‚       â”‚
         â”‚       â”œâ”€> ğŸ”’ Check Header
         â”‚       â”‚   x-admin-secret == ADMIN_SECRET?
         â”‚       â”‚   âŒ NO â†’ 401 Unauthorized
         â”‚       â”‚   âœ… YES â†’ Continue
         â”‚       â”‚
         â”‚       â”œâ”€> âœ… Validate Input
         â”‚       â”‚   (itemId, enabled)
         â”‚       â”‚
         â”‚       â”œâ”€> âœ… Check Item Exists
         â”‚       â”‚
         â”‚       â””â”€> ğŸ’¾ Update Firestore
         â”‚           (using Admin SDK)
         â”‚
         â””â”€> ğŸ”„ Update order status
             (similar Cloud Function flow)
```

---

## ğŸ“¦ Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 REACT COMPONENT TREE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

App (Router)
â”‚
â”œâ”€> CartProvider (Context)
    â”‚
    â”œâ”€> HomePage (Route: /)
    â”‚   â”‚
    â”‚   â”œâ”€> Header
    â”‚   â”‚
    â”‚   â”œâ”€> MenuSection (Breakfast)
    â”‚   â”‚   â””â”€> ScrollStackWrapper
    â”‚   â”‚       â””â”€> ItemCard (multiple)
    â”‚   â”‚           â””â”€> useCart hook
    â”‚   â”‚
    â”‚   â”œâ”€> MenuSection (Lunch)
    â”‚   â”œâ”€> MenuSection (Snack)
    â”‚   â”œâ”€> MenuSection (Dinner)
    â”‚   â”‚
    â”‚   â”œâ”€> Footer
    â”‚   â”‚
    â”‚   â”œâ”€> CartFloating
    â”‚   â”‚   â””â”€> useCart hook
    â”‚   â”‚
    â”‚   â””â”€> CartModal
    â”‚       â”œâ”€> useCart hook
    â”‚       â””â”€> CheckoutModal
    â”‚           â”œâ”€> useCart hook
    â”‚           â””â”€> firebase.create()
    â”‚
    â””â”€> AdminPanel (Route: /admin)
        â”‚
        â”œâ”€> Orders Tab
        â”‚   â”œâ”€> useOrders hook
        â”‚   â””â”€> OrderCard (multiple)
        â”‚       â””â”€> api.updateOrderStatus()
        â”‚
        â””â”€> Menu Tab
            â”œâ”€> useAllMenu hook
            â””â”€> MenuItemAdmin (multiple)
                â””â”€> api.toggleMenu()
```

---

## ğŸ¨ Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA FLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Firebase   â”‚
    â”‚  Firestore   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                             â”‚
           â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   useMenu   â”‚            â”‚  useOrders  â”‚
    â”‚   Hook      â”‚            â”‚    Hook     â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                          â”‚
          â”‚ onSnapshot               â”‚ onSnapshot
          â”‚ (real-time)              â”‚ (real-time)
          â”‚                          â”‚
          â–¼                          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  MenuSectionâ”‚            â”‚  AdminPanel â”‚
    â”‚  Components â”‚            â”‚  Component  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   useCart    â”‚
    â”‚   Context    â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€> LocalStorage
           â”‚   (persistence)
           â”‚
           â”œâ”€> CartFloating
           â”‚   (displays count)
           â”‚
           â”œâ”€> CartModal
           â”‚   (manages items)
           â”‚
           â””â”€> CheckoutModal
               (creates order)
                    â”‚
                    â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Firestore   â”‚
               â”‚    orders    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 DEPLOYMENT PIPELINE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Developer Machine
         â”‚
         â”œâ”€> 1. npm run build
         â”‚   â””â”€> Creates /dist folder
         â”‚
         â”œâ”€> 2. firebase deploy --only firestore:rules
         â”‚   â””â”€> Deploys security rules
         â”‚
         â”œâ”€> 3. firebase deploy --only functions
         â”‚   â””â”€> Deploys Cloud Functions
         â”‚       â”œâ”€> toggleMenu
         â”‚       â”œâ”€> updateOrderStatus
         â”‚       â””â”€> webhookNotify
         â”‚
         â””â”€> 4. firebase deploy --only hosting
             â””â”€> Deploys static files
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Firebase CDN    â”‚
         â”‚  Global Network   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”œâ”€> Users (Asia)
                   â”œâ”€> Users (Europe)
                   â””â”€> Users (Americas)
    
    
    ğŸŒ Result:
    https://your-project.web.app
    âœ… SSL/HTTPS enabled
    âœ… Global CDN
    âœ… Auto-scaling
    âœ… Zero downtime
```

---

## ğŸ“Š State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  STATE MANAGEMENT                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    GLOBAL STATE (React Context)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      CartProvider        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â€¢ cart: Array<Item>      â”‚
    â”‚ â€¢ total: number          â”‚
    â”‚ â€¢ itemCount: number      â”‚
    â”‚ â€¢ isCartOpen: boolean    â”‚
    â”‚ â€¢ lastOrderTime: number  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€> Actions:
         â”‚   â€¢ addToCart()
         â”‚   â€¢ updateQuantity()
         â”‚   â€¢ removeFromCart()
         â”‚   â€¢ clearCart()
         â”‚   â€¢ toggleCart()
         â”‚
         â””â”€> Persistence:
             â€¢ localStorage
             â€¢ Survives page refresh
    
    
    COMPONENT STATE (useState)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    ItemCard Component    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â€¢ quantity: number       â”‚
    â”‚ â€¢ isAdding: boolean      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CheckoutModal Component â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â€¢ formData: Object       â”‚
    â”‚ â€¢ errors: Object         â”‚
    â”‚ â€¢ isSubmitting: boolean  â”‚
    â”‚ â€¢ successMessage: string â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    
    SERVER STATE (Firestore)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Firebase Firestore     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Collection: menu         â”‚
    â”‚ Collection: orders       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€> Real-time Listeners:
             â€¢ useMenu hook
             â€¢ useOrders hook
             â€¢ Auto-updates UI
```

---

## ğŸ¯ Key Takeaways

### Customer Experience
```
Browse â†’ Add to Cart â†’ Checkout â†’ Place Order
   â†“          â†“           â†“           â†“
Real-time   Local    Validation   Firestore
Updates     State    + UX        + Real-time
```

### Admin Experience
```
View Orders â†’ Accept â†’ Complete
     â†“           â†“         â†“
 Real-time   Secure    Status
 Updates    Function  Tracking
```

### Security Model
```
Read: Public â†’ Firestore Rules â†’ Allowed
Write: Admin â†’ Cloud Function â†’ Admin Secret â†’ Allowed
Write: Client â†’ Firestore Rules â†’ Denied (except orders)
```

### Architecture
```
React (UI) â† â†’ Firestore (Data) â† â†’ Cloud Functions (Logic)
               Real-time Sync        Server-side Security
```

---

**This is a complete, production-ready system! ğŸ‰**
